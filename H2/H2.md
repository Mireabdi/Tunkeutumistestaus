# Palvelinten Hallinta
## ICI001AS3A-3010
### Abdirahman Mire

## Työympäristö


Käyttöjärjestelmä: Windows 11 Home 64-bit

Suoritin: Intel Core i3-1215U

Muisti: 8GB DDR4

Näytönohjain: Intel UHD Graphics (Samsung)

Virtuaalinen kone: VMware:n kautta asennettu Kali Linux

## H2 Lisää vain vesi

## X)

## A) Osoita testein, että koneet eivät saa yhteyttä Internetiin ja Koneet saavat yhteyden toisiinsa.

![kuva1](/H2/kuvat/kuva1.png)
![kuva1](/H2/kuvat/kuva2.png)

KaliVM offline tilassa ja metasploitable2 saa host only yhteyden.

## B&C) Metasploitable käyttöön.

`msfconsole` komennolla:

![kuva1](/H2/kuvat/kuva5.png)

Selaimella metasploitable palvelimen tarkistus:

![kuva1](/H2/kuvat/kuva4.png)

## D&E) Porttiskannaus & tietojen tarkastelu.

Porttiskannaus komennoilla: `db_nmap -A -p- 192.168.42.128` `nmap -A -p- -oA fullscan 192.168.42.128`

Hosts:

![kuva1](/H2/kuvat/kuva6.png)

Services:

![kuva1](/H2/kuvat/kuva7.png)

Suodattamiseen käytin komentoa `services -p 21`

![kuva1](/H2/kuvat/kuva8.png)

## F) Vertailu  tallennuksista:

`nmap -oA`: Tallentaa kolme tiedostoa (normaali, XML, grepable). Hyödyllinen, jos haluaa jakaa tulokset tai käyttää muissa työkaluissa.
`db_nmap`: Tallentaa suoraan Metasploitin tietokantaan. Tiedot heti käytettävissä Metasploitin komennoilla (hosts, services, suodatus).

## G) Murtaudu vsftpd:hen.

 Yritin ensin `use 0` mutta tuli vastaus target not vulnerable. Huomasin myös väärä RHOST mutta tuskin tuo virhe ilmotus tulee väärästä ip osoitteesta.
 
![kuva1](/H2/kuvat/kuva9.png)


Seuraavaksi käytin `use 1`, tämä toimi ja sain shellin:

![kuva1](/H2/kuvat/kuva10.png)

## H) Sessio meterpreteriin.

Päivitin shellin Meterpreter-sessioon komennolla sessions -u 2.
Metasploit avasi uuden Meterpreter-session (session 3), joka antaa laajemmat hyökkääjän työkalut.

![kuva1](/H2/kuvat/kuva11.png)

## I) Lateral movement.

Hain levittäytymiseen tarvittavaa tietoa komennoilla:

`getuid`: kertoo käyttöoikeudet. Sessio toimii root oikeuksilla. Root oikeudet mahdollistaa lateral movementin.

`sysinfo`: Sai selville käyttöjärjestelmän tiedot jonka avulla voi valita sopivat hyökkäysmoduulit.

![kuva1](/H2/kuvat/kuva12.png)






